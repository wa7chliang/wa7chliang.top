webpackJsonp([10],{"5JkM":function(e,r){},CkZ5:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("Xxa5"),o=t.n(s),a=t("mvHQ"),i=t.n(a),n=t("woOf"),c=t.n(n),l=t("exGp"),m=t.n(l),f=t("LOkV"),u={name:"register",data:function(){var e=this;return{myItem:{},form:{username:"",pass:"",checkPass:"",code:"",registerCode:""},rules:{username:[{validator:function(e,r,t){""===r?t(new Error("请输入用户名")):t()},trigger:"blur"}],pass:[{validator:function(r,t,s){""===t?s(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.form.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],code:[{validator:function(e,r,t){""===r?t(new Error("请输入验证码")):t()},trigger:"blur"}],registerCode:[{validator:function(e,r,t){""===r?t(new Error("请输入注册码")):t()},trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(e){var t={username:r.form.username,password:r.form.pass,repassword:r.form.checkPass,code:r.form.code,registerCode:r.form.registerCode};r.register("/api/users/register",t)}})},resetForm:function(e){this.$refs[e].resetFields()},register:function(e,r){var t=this;return m()(o.a.mark(function s(){var a,n,l;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(f.b)(e,r);case 2:(a=s.sent).state?(n=window.localStorage,l=c()({},a.cont,{dataTime:(new Date).getTime()}),n.setItem("mydata",i()(l)),t.resetForm("form"),t.$message({message:"注册成功",type:"success"}),t.$router.push({path:"/admin"})):t.$message.error(a.msg);case 4:case"end":return s.stop()}},s,t)}))()}}},p={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("el-card",{staticClass:"register-box"},[t("p",{staticClass:"title"},[t("span",[e._v("注册")]),e._v(" "),t("router-link",{staticClass:"back",attrs:{to:"/admin/login"}},[e._v("去登陆")])],1),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"pass"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.pass,callback:function(r){e.$set(e.form,"pass",r)},expression:"form.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.form.checkPass,callback:function(r){e.$set(e.form,"checkPass",r)},expression:"form.checkPass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"注册码",prop:"registerCode"}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.registerCode,callback:function(r){e.$set(e.form,"registerCode",r)},expression:"form.registerCode"}})],1),e._v(" "),t("el-form-item",{staticClass:"dib",attrs:{label:"验证码",prop:"code"}},[t("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.code,callback:function(r){e.$set(e.form,"code",r)},expression:"form.code"}}),e._v(" "),t("img",{attrs:{src:"/api/captcha",onclick:"javascript: this.src='/api/captcha?code='+ Math.random()"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("注册")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var d=t("VU/8")(u,p,!1,function(e){t("5JkM")},"data-v-7c75bd99",null);r.default=d.exports}});
//# sourceMappingURL=10.fbed03fd8a0dd8d68633.js.map