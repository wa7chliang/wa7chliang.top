webpackJsonp([9],{"ql+m":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("Xxa5"),r=a.n(i),l=a("exGp"),c=a.n(l),o=a("LOkV"),u=a("NYxO"),d={name:"postsList",data:function(){return{tableData:[],page:1,size:10,total:0}},methods:{handleEdit:function(t,e){this.isState?this.$router.push({path:"/admin/editArticle",query:{id:e.id}}):this.$message.error("权限不足")},handleDelete:function(t,e){var a=this;this.isState?this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteArticle("/api/posts/deleteArticle",{id:e.id})}):this.$message.error("权限不足")},deleteArticle:function(t,e){var a=this;return c()(r.a.mark(function s(){var n;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(o.b)(t,e);case 2:(n=s.sent).state?(a.$message({type:"success",message:"删除成功!"}),a.getList()):a.$message.error(n.msg);case 4:case"end":return s.stop()}},s,a)}))()},getList:function(){this.getListDate("/api/posts/getList",{page:this.page,size:this.size})},getListDate:function(t,e){var a=this;return c()(r.a.mark(function s(){var n;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(o.a)(t,e);case 2:(n=s.sent).state?(a.tableData=n.list,a.total=n.count):a.tableData=[];case 4:case"end":return s.stop()}},s,a)}))()},currentChange:function(t){t!==this.page&&(this.page=t,this.getList())}},created:function(){this.getList()},computed:n()({},Object(u.b)(["isState"]))},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"postsList"},[t._m(0),t._v(" "),a("div",{staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"Id",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"moment",label:"创建时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pv",label:"浏览次数",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"types",label:"文章类型",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"page-box"},[a("el-pagination",{attrs:{"page-size":t.size,layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-title"},[e("h3",[this._v("文章列表")])])}]};var h=a("VU/8")(d,p,!1,function(t){a("uCJv")},"data-v-7cd9de5e",null);e.default=h.exports},uCJv:function(t,e){}});
//# sourceMappingURL=9.b26db3c7e8ca812ac7c4.js.map